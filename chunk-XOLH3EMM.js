import{a as u}from"./chunk-B4TRIBHJ.js";import{C as n,o as i,qa as c,s as r,za as s}from"./chunk-6PQSHQPV.js";var a=class e{userLocalService=r(u);router=r(s);platformId=r(n);canActivate(){if(!c(this.platformId))return!0;let t=window.localStorage.getItem("accessToken"),o="/public/login";if(!t)return this.router.navigate([o]),!1;let l=this.userLocalService.decodeToken(t),m=Math.floor(Date.now()/1e3);return this.userLocalService.token=t,l.exp<=m?(this.userLocalService.logout(),this.router.navigate([o]),!1):(this.userLocalService.setInfoUser(t),!0)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};var T=[{title:"Gestor de tareas",path:"tasks",canActivate:[a],loadComponent:()=>import("./chunk-OWVMQSZE.js").then(e=>e.TasksComponent)},{path:"**",redirectTo:"public/not-found"}];export{T as PageRoutes};
