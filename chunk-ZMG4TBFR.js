import{a as I}from"./chunk-3CCGWXYZ.js";import{a as N,b as a,c as P,d as V,e as M,f,h as T,i as D,j as G,o as L}from"./chunk-YDCFJKCP.js";import{a as y}from"./chunk-JB2BBJUD.js";import"./chunk-V3WSD4SW.js";import{Aa as x,E as l,J as p,K as w,M as d,N as n,O as e,P as c,R as S,W as i,ba as h,e as C,pa as _,s as b,t as F,za as E}from"./chunk-6PQSHQPV.js";function U(o,r){o&1&&(n(0,"small",7),i(1," Nombre obligatorio (m\xEDnimo 3 caracteres) "),e())}function q(o,r){o&1&&(n(0,"small",7),i(1," Correo inv\xE1lido "),e())}function A(o,r){o&1&&(n(0,"small",7),i(1," M\xEDnimo 8 caracteres "),e())}function j(o,r){o&1&&(n(0,"small",7),i(1," Las contrase\xF1as no coinciden "),e())}var R=class o{usersService=b(I);toast=b(y);router=b(E);signupForm=new M({password:new f("",[a.required,a.minLength(8)]),name:new f("",[a.required,a.minLength(3)]),email:new f("",[a.required,a.email]),confirmPassword:new f("",[a.required])},{validators:this.passwordMatchValidator()});passwordMatchValidator(){return r=>{let m=r.get("password")?.value,t=r.get("confirmPassword")?.value;return m===t?null:{mismatch:!0}}}createUser(){if(this.signupForm.invalid){this.toast.setToastPopup("Por favor, revisa el formulario y corrige los errores","error");return}this.toast.showModalLoading(),this.usersService.createUser(this.signupForm.value).subscribe({next:()=>C(this,null,function*(){this.toast.setToastPopup("Usuario creado exitosamente","success"),this.router.navigate(["/public/login"])})})}static \u0275fac=function(m){return new(m||o)};static \u0275cmp=F({type:o,selectors:[["management-signup"]],standalone:!0,features:[h],decls:31,vars:6,consts:[[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","Ingresa tu nombre",1,"form-control"],[1,"text-danger"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a",1,"form-control"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","Confirma tu contrase\xF1a",1,"form-control"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/public/login"]],template:function(m,t){if(m&1&&(n(0,"div",0)(1,"div",1)(2,"h3",2),i(3,"Registro"),e(),n(4,"form",3),S("ngSubmit",function(){return t.createUser()}),n(5,"div",4)(6,"label",5),i(7,"Nombre"),e(),c(8,"input",6),p(9,U,2,0,"small",7),e(),n(10,"div",4)(11,"label",8),i(12,"Correo Electr\xF3nico"),e(),c(13,"input",9),p(14,q,2,0,"small",7),e(),n(15,"div",4)(16,"label",10),i(17,"Contrase\xF1a"),e(),c(18,"input",11),p(19,A,2,0,"small",7),e(),n(20,"div",4)(21,"label",12),i(22,"Confirmar Contrase\xF1a"),e(),c(23,"input",13),p(24,j,2,0,"small",7),e(),n(25,"button",14),i(26,"Registrarse"),e()(),n(27,"p",15),i(28,"\xBFYa tienes cuenta? "),n(29,"a",16),i(30,"Inicia sesi\xF3n"),e()()()()),m&2){let u,g,v,s;l(4),w("formGroup",t.signupForm),l(5),d((u=t.signupForm.get("name"))!=null&&u.invalid&&((u=t.signupForm.get("name"))!=null&&u.touched)?9:-1),l(5),d((g=t.signupForm.get("email"))!=null&&g.invalid&&((g=t.signupForm.get("email"))!=null&&g.touched)?14:-1),l(5),d((v=t.signupForm.get("password"))!=null&&v.invalid&&((v=t.signupForm.get("password"))!=null&&v.touched)?19:-1),l(5),d(((s=t.signupForm.get("password"))==null?null:s.value)!==((s=t.signupForm.get("confirmPassword"))==null?null:s.value)&&((s=t.signupForm.get("confirmPassword"))!=null&&s.touched)?24:-1),l(),w("disabled",t.signupForm.invalid)}},dependencies:[x,_,L,T,N,P,V,D,G]})};export{R as SignupComponent};
